# backend

Water My Plants

# Documentation:

# Base URL for Deployed API

https://water-my-plants-web41.herokuapp.com/api

# Endpoints
| Request | URL               | Description |
| ------- | ----------------- | ----------- |
| POST    | /auth/register    | register as a new user |
| POST    | /auth/login       | login as an existing user |
| POST    | /users/:id/plants | adds plant for a specific user (REQUIRES TOKEN) |
| GET     | /auth/plants      | gets an array of all plants for all users |
| GET     | /users/:id        | gets user info for user with given id (REQUIRES TOKEN) |
| GET     | /users/:id/plants | gets an array of plants for specific user (REQUIRES TOKEN) |
| GET     | /plants/:id       | gets info for plant with given id (REQUIRES TOKEN) |
| PUT     | /users/:id        | edits info for user with given id (REQUIRES TOKEN) |
| PUT     | /plants/:id       | edits info for plant with given id (REQUIRES TOKEN) |
| DELETE  | /users/:id        | deletes user with given id (REQUIRES TOKEN) |
| DELETE  | /plants/:id       | deletes plant with given id (REQUIRES TOKEN) |


# Table Requirements

## Users
| Name         | Type    | Required | Unique | Notes |
| ------------ | ------- | -------- | ------ | ----- |
| id           | integer | yes      | yes    | user id (auto generated by API) |
| username     | string  | yes      | yes    | user's username |
| password     | string  | yes      | no     | user's password |
| phone        | string  | yes      | no     | user's phone number |

## Plants
| Name          | Type    | Required | Unique | Notes |
| ------------- | ------- | -------- | ------ | ----- |
| id            | integer | yes      | yes    | plant id (auto generated by API) |
| nickname      | string  | yes      | no     | plant nickname |
| species       | string  | yes      | no     | plant species |
| h20_frequency | string  | yes      | no     | directions for watering |

user's id associated with plant - foreign key (will auto populate when new plant is created) 


# Requests and Returns:

### POST /api/auth/register
Request Body:
```json
  {
    "username": "Bruce Wayne",
    "password": "password",
    "phone_number": "123-456-7890",
  }
```

Returns:
```json
  {
    "new_user": {
      "id": 1,
      "username": "Bruce Wayne",
      "phone_number": "1234567890"
    },
    "token": 
  }
```


### POST /api/auth/login
Request Body:
```json
  {
    "username": "Bruce Wayne",
    "password": "password"
  }
```

Returns:
```json
  {
    "welcome": "Bruce Wayne",
    "user_id": 1,
    "phone_number": "1234567890",
    "token": 
  }
```


### POST /users/:id/plants
Request Body:
```json
  {
    "nickname": "Boston Fern",
    "species": "Nephrolepsis exaltata",
    "h2o_frequency": "7",
  }
```

Returns:
```json
  {
    "plant_id": 1,
    "nickname": "Boston Fern",
    "species": "Nephrolepsis exaltata",
    "h2o_frequency": "7",
    "user": "Bruce Wayne"
  }
```


### GET /auth/plants

### GET /users/:id

### GET /users/:id/plants

### GET /plants/:id

### PUT /users/:id (Can Update Username, Password and/or Phone Number. For security, Passwords will NEVER be returned to the user)


### PUT /plants/:id

### DELETE /users/:id

### DELETE /plants/:id


### SEED DATA/USERS
``` 
{
      user_id: 1,
      username: 'Bruce Wayne',
      password: 'password',
      phone: '123-456-7890',
    },
    {
      user_id: 2,
      username: 'Edith Smith',
      password: 'password',
      phone: '234-567-8901',
    },
    {
      user_id: 3,
      username: 'Lily Mays',
      password: 'password',
      phone: '345-678-9012',
    },
```
### SEED DATA/PLANTS
```
{
      plant_id: 1,
      nickname: 'boston fern',
      species: 'Nephrolepsis exaltata',
      h2ofrequency: '7',
      user_id: 1,
    },
    {
      plant_id: 2,
      nickname: 'rubber plant',
      species: 'ficus elastica',
      h2ofrequency: '4',
      user_id: 2,
    },
    {
      plant_id: 3,
      nickname: 'peace lily',
      species: 'Spathiphyllum wallisii',
      h2ofrequency: '4',
      user_id: 3,
    },
    {
      plant_id: 4,
      nickname: 'snake plant',
      species: 'Sansevieria trifasciata',
      h2ofrequency: '4',
      user_id: 1,
    },
    {
      plant_id: 5,
      nickname: 'spider plant',
      species: 'Chlorophytum comosum',
      h2ofrequency: '3',
      user_id: 1,
    },
    
